# Universal AI Market

<div align="center">
  <img src="./apps/market/public/logo.svg" width="200" alt="Universal AI Market Logo" />
  <h1>Universal AI Market</h1>
  <p><strong>AI Agent + ZetaChain = æ— ç¼è·¨é“¾è´­ç‰©ä½“éªŒ</strong></p>
  <p>
    <a href="https://github.com/CasualHackathon/UniversalAI-ZetaChain">ğŸ† é€šç”¨ AI å…±å­¦é»‘å®¢æ¾ï¼ˆZetaChain Ã— Qwenï¼‰å‚èµ›é¡¹ç›®</a>
  </p>
</div>


## é¡¹ç›®æ„¿æ™¯

æƒ³è±¡ä¸€ä¸‹è¿™æ ·çš„åœºæ™¯ï¼šä½ åœ¨ç©ä¸€æ¬¾æ¸¸æˆï¼Œæƒ³è´­ä¹°ä¸€æŠŠå¼ºåŠ›æ­¦å™¨ NFTã€‚è¿™ä¸ª NFT åœ¨ Polygon é“¾ä¸Šï¼Œè€Œä½ çš„é’±åŒ…é‡Œåªæœ‰ Base é“¾ä¸Šçš„ USDCã€‚ä¼ ç»Ÿæ–¹å¼ä¸‹ï¼Œä½ éœ€è¦ï¼š

1. æ‰¾ä¸€ä¸ªè·¨é“¾æ¡¥ï¼ŒæŠŠ USDC è½¬åˆ° Polygon
2. ç­‰å¾…è·¨é“¾ç¡®è®¤ï¼ˆå¯èƒ½éœ€è¦å‡ åˆ†é’Ÿåˆ°å‡ å°æ—¶ï¼‰
3. åœ¨ Polygon ä¸Šæ¢æˆ MATIC ä»˜ Gas
4. æœ€åæ‰èƒ½è´­ä¹° NFT

**å¤ªéº»çƒ¦äº†ï¼**

æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼š**è®© AI Agent æ›¿ä½ å®Œæˆä¸€åˆ‡**ã€‚

ä½ åªéœ€è¦å‘Šè¯‰ Agentï¼š"å¸®æˆ‘ä¹°é‚£æŠŠé‡å­ä¹‹å‰‘"ï¼Œå‰©ä¸‹çš„äº‹æƒ…å…¨éƒ¨è‡ªåŠ¨å®Œæˆâ€”â€”è·¨é“¾æ”¯ä»˜ã€å–å®¶æ”¶æ¬¾ã€NFT äº¤ä»˜ï¼Œä¸€æ°”å‘µæˆã€‚

<div align="center">

[![Demo Video](./demo-preview.png)](https://www.youtube.com/watch?v=nE3dKHVTGT8)

*ç‚¹å‡»è§‚çœ‹æ¼”ç¤ºè§†é¢‘ | æ— æ³•è®¿é—® YouTubeï¼Ÿ[ä¸‹è½½è§†é¢‘](./demo.mp4)*

</div>

---

## æ ¸å¿ƒåˆ›æ–°

æœ¬é¡¹ç›®æ˜¯ **Agentic E-commerceï¼ˆæ™ºèƒ½ä½“ç”µå•†ï¼‰** çš„å®è·µâ€”â€”ç”¨æˆ·åªéœ€è¡¨è¾¾æ„å›¾ï¼ŒAI Agent è‡ªä¸»å®Œæˆæœç´¢ã€ç ä»·ã€æ”¯ä»˜ã€äº¤ä»˜çš„å…¨æµç¨‹ã€‚Agent ä¸éœ€è¦åä¸½çš„ UI å¹²æ‰°æ“ä½œï¼Œè€Œæ˜¯éœ€è¦æ¸…æ™°çš„æ¥å£ã€‚

### 1. AI é©±åŠ¨çš„è´­ç‰©ä½“éªŒ

ä¹°å®¶ä¸éœ€è¦ç†è§£åŒºå—é“¾çš„å¤æ‚æ€§ã€‚AI Agent ä¼šï¼š
- è‡ªåŠ¨å‘ç°å¹¶æµè§ˆå•†å“
- ä¸å–å®¶ Agent è¿›è¡Œä»·æ ¼åå•†ï¼ˆæ”¯æŒå¤šå–å®¶ç«ä»·ï¼‰
- å‡†å¤‡è·¨é“¾äº¤æ˜“å‚æ•°
- å®æ—¶å±•ç¤ºäº¤æ˜“è¿›åº¦

å–å®¶åŒæ ·å—ç›Šäº Agent è‡ªåŠ¨åŒ–ï¼šä¸€é”®éƒ¨ç½² NFT å’Œæ‰˜ç®¡åˆçº¦ï¼ŒSeller Agent 7x24 è‡ªåŠ¨å“åº”è¯¢ä»·å’Œç ä»·ã€‚

### 2. ZetaChain è·¨é“¾ç»“ç®—

åˆ©ç”¨ ZetaChain çš„ Universal App æ¶æ„ï¼Œå®ç°äº†çœŸæ­£çš„åŸå­åŒ–è·¨é“¾äº¤æ˜“ã€‚

### 3. æ— éœ€ä¿¡ä»»çš„æ‰˜ç®¡æœºåˆ¶

NFT ç”±æ™ºèƒ½åˆçº¦æ‰˜ç®¡ï¼Œåªæœ‰åœ¨æ”¶åˆ°è·¨é“¾æ¶ˆæ¯åæ‰ä¼šé‡Šæ”¾ã€‚å–å®¶å’Œä¹°å®¶éƒ½ä¸éœ€è¦ä¿¡ä»»å¯¹æ–¹â€”â€”ä»£ç å³æ³•å¾‹ã€‚

### 4. å¤š Agent åä½œæ¶æ„

ç³»ç»Ÿç”±å¤šä¸ª AI Agent ååŒå·¥ä½œï¼Œæ”¯æŒ LLM é©±åŠ¨çš„è‡ªç„¶è¯­è¨€ç ä»·ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Market Frontend (å‰ç«¯)                        â”‚
â”‚                 ç”¨æˆ·é…ç½® Buyer Agentï¼šé’±åŒ…ã€é¢„ç®—ã€ç­–ç•¥              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Agent Hub (åè°ƒä¸­å¿ƒ)                     â”‚
â”‚                    LLM: Qwen (å¯é…ç½®å…¶ä»–æ¨¡å‹)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                      â”‚                      â”‚
         â–¼                      â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Buyer Agent    â”‚   â”‚  Seller Agent 1 â”‚   â”‚  Seller Agent N â”‚
â”‚  (ä¹°å®¶ä»£ç†)      â”‚   â”‚  (å¯é…ç½®é£æ ¼)    â”‚   â”‚  (å¯é…ç½®é£æ ¼)    â”‚
â”‚  - é¢„ç®—æ§åˆ¶      â”‚   â”‚  - LLM ç”Ÿæˆå¯¹è¯  â”‚ â€¦ â”‚  - LLM ç”Ÿæˆå¯¹è¯  â”‚
â”‚  - ç ä»·ç­–ç•¥      â”‚   â”‚  - åº•ä»·ä¿æŠ¤      â”‚   â”‚  - åº•ä»·ä¿æŠ¤      â”‚
â”‚  - æµè§ˆå™¨ç«¯ç­¾å  â”‚   â”‚  - ç‹¬ç«‹é’±åŒ…      â”‚   â”‚  - ç‹¬ç«‹é’±åŒ…      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                      â”‚                      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   å¹¶è¡Œç ä»· â†’ é€‰æ‹©æœ€ä½ä»·  â”‚
                    â”‚      æˆäº¤ & è·¨é“¾ç»“ç®—    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å…³é”®ç‰¹æ€§**ï¼š
- **å¤šå–å®¶å¹¶è¡Œç ä»·**ï¼šåŒæ—¶å’Œ N ä¸ª Seller Agent è°ˆåˆ¤ï¼Œé€‰æ‹©æœ€ä¼˜ä»·æ ¼
- **LLM é©±åŠ¨å¯¹è¯**ï¼šä½¿ç”¨ Qwen ç­‰å¤§æ¨¡å‹ç”Ÿæˆè‡ªç„¶çš„ç ä»·å¯¹è¯
- **æµè§ˆå™¨ç«¯ç­¾å**ï¼šç§é’¥ä»…å­˜å‚¨åœ¨ç”¨æˆ·æµè§ˆå™¨å†…å­˜ä¸­ï¼Œä»ä¸å‘é€åˆ°æœåŠ¡å™¨
- **å¤šé“¾æ”¯æŒ**ï¼šåŸºäº ZetaChainï¼Œæ”¯æŒä»»æ„ EVM å…¼å®¹é“¾
- **å¯æ‰©å±• Seller**ï¼šæ¯ä¸ªå–å®¶å¯ä»¥éƒ¨ç½²ç‹¬ç«‹çš„ Seller Agent æœåŠ¡

è¯¦ç»†æ¶æ„è¯´æ˜è§ [Agent Hub æ–‡æ¡£](./apps/agent/README.md)ã€‚

### 5. MCPï¼ˆModel Context Protocolï¼‰æ¥å…¥ï¼ˆå¯é€‰ / è§„åˆ’ï¼‰

æˆ‘ä»¬è®¡åˆ’å°†å¸‚åœºç½‘ç«™ä½œä¸º **agent çš„å…¥å£**ï¼Œå¯¹å¤–æä¾› MCP Serverï¼ˆæˆ– MCP over HTTP/SSEï¼‰ï¼Œè®©ç¬¬ä¸‰æ–¹ agent ä»¥æ ‡å‡†åè®®å‘ç°èƒ½åŠ›ã€è°ƒç”¨å·¥å…·ã€æ‹¿åˆ°æµå¼ç»“æœã€‚  
è¿™ä¸ªæ–¹å‘æ˜¯**å…¼å®¹è€Œä¸æ˜¯æ›¿æ¢**ï¼š

- **ä¿ç•™ discovery**ï¼ˆ`/.well-known/...`ï¼‰ä½œä¸ºå¸‚åœºå…ƒä¿¡æ¯
- **æ–°å¢ MCP endpoint**ï¼ŒæŠŠç°æœ‰å·¥å…·ï¼ˆå¦‚ `/api/agent/tool`ï¼‰æ˜ å°„ä¸º MCP tools
- **è®¤è¯æ²¿ç”¨ç­¾åæŒ‘æˆ˜**ï¼ˆchallenge/verifyï¼‰ï¼ŒMCP è°ƒç”¨æºå¸¦ session

åŒæ—¶è¦æ˜ç¡®è¾¹ç•Œï¼š
- **MCP è§£å†³**ï¼šæ ‡å‡†åŒ–å·¥å…·æ¥å…¥ã€ä¸Šä¸‹æ–‡ä¼ é€’ã€é™ä½ç¬¬ä¸‰æ–¹ agent æ¥å…¥æˆæœ¬
- **MCP ä¸è§£å†³**ï¼šè®¤è¯ã€ç»“ç®—ã€é£æ§/é™é¢ã€å¹‚ç­‰/å›æ»šç­‰ä¸šåŠ¡å®‰å…¨é€»è¾‘ï¼ˆè¿™äº›ä»ç”±æˆ‘ä»¬å®šä¹‰ï¼‰

---

## æŠ€æœ¯æ¶æ„è¯¦è§£

### è·¨é“¾äº¤æ˜“æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           å®Œæ•´è·¨é“¾äº¤æ˜“æµç¨‹                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Base Sepolia                    ZetaChain Athens                 Polygon Amoy
  (ä¹°å®¶ä»˜æ¬¾é“¾)                      (ç¼–æ’å±‚)                        (NFT æ‰€åœ¨é“¾)
       â”‚                              â”‚                                 â”‚
       â”‚  1. depositAndCall()         â”‚                                 â”‚
       â”‚  (USDC + Deal ä¿¡æ¯)          â”‚                                 â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                                 â”‚
       â”‚                              â”‚                                 â”‚
       â”‚                    2. UniversalMarket.onCall()                 â”‚
       â”‚                       - éªŒè¯ Deal ä¿¡æ¯                          â”‚
       â”‚                       - éªŒè¯ä»˜æ¬¾é‡‘é¢                            â”‚
       â”‚                              â”‚                                 â”‚
       â”‚     3. gateway.withdraw()    â”‚                                 â”‚
       â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                                 â”‚
       â”‚   (USDC è½¬ç»™å–å®¶ Base åœ°å€)   â”‚                                 â”‚
       â”‚                              â”‚                                 â”‚
       â”‚                              â”‚    4. gateway.call()            â”‚
       â”‚                              â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                              â”‚    (è°ƒç”¨ Escrow.release)         â”‚
       â”‚                              â”‚                                 â”‚
       â”‚                              â”‚                      5. Escrow é‡Šæ”¾ NFT
       â”‚                              â”‚                         ç»™ä¹°å®¶ Polygon åœ°å€
       â”‚                              â”‚                                 â”‚
       â–¼                              â–¼                                 â–¼
   å–å®¶æ”¶åˆ° USDC                 äº¤æ˜“å®Œæˆäº‹ä»¶                      ä¹°å®¶æ”¶åˆ° NFT
```

### ä¸ºä»€ä¹ˆé€‰æ‹© ZetaChainï¼Ÿ

| ç‰¹æ€§ | ä¼ ç»Ÿè·¨é“¾æ¡¥ | ZetaChain Universal App |
|------|-----------|------------------------|
| **åŸå­æ€§** | âŒ åˆ†æ­¥æ‰§è¡Œï¼Œå¯èƒ½ä¸­é€”å¤±è´¥ | âœ… ä¸€ç¬”äº¤æ˜“å®Œæˆæ‰€æœ‰æ“ä½œ |
| **å¤šé“¾æ”¯æŒ** | âŒ æ¯å¯¹é“¾éœ€è¦ç‹¬ç«‹æ¡¥ | âœ… ä¸€ä¸ªåˆçº¦æ”¯æŒæ‰€æœ‰ EVM é“¾ |
| **ç¼–æ’é€»è¾‘** | âŒ æ— æ³•åœ¨ä¸­é—´å±‚æ·»åŠ é€»è¾‘ | âœ… å¯åœ¨ ZetaChain ä¸Šæ‰§è¡Œå¤æ‚ä¸šåŠ¡é€»è¾‘ |
| **Gas ä½“éªŒ** | âŒ éœ€è¦ç›®æ ‡é“¾ Gas | âœ… æºé“¾ä»˜æ¬¾å³å¯ï¼Œç›®æ ‡é“¾ Gas è‡ªåŠ¨å¤„ç† |
| **ç»“ç®—é€Ÿåº¦** | â±ï¸ å‡ åˆ†é’Ÿåˆ°å‡ å°æ—¶ | âš¡ 1-3 åˆ†é’Ÿ |

### åˆçº¦æ¶æ„

```
                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚      ZetaChain          â”‚
                           â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
                           â”‚  â”‚ UniversalMarket â”‚    â”‚  â† æ ¸å¿ƒç¼–æ’åˆçº¦ï¼ˆå…¨é“¾é€šç”¨ï¼Œåªéœ€ 1 ä¸ªï¼‰
                           â”‚  â”‚                 â”‚    â”‚
                           â”‚  â”‚ - onCall()      â”‚    â”‚     æ¥æ”¶è·¨é“¾æ¶ˆæ¯
                           â”‚  â”‚ - éªŒè¯ Deal     â”‚    â”‚     éªŒè¯äº¤æ˜“å‚æ•°
                           â”‚  â”‚ - è½¬è´¦ç»™å–å®¶    â”‚    â”‚     è°ƒç”¨ withdraw
                           â”‚  â”‚ - è§¦å‘ NFT äº¤ä»˜ â”‚    â”‚     è°ƒç”¨ call
                           â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                        â”‚                        â”‚
              â–¼                        â–¼                        â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚    Polygon      â”‚      â”‚    Ethereum     â”‚      â”‚      BSC        â”‚
     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
     â”‚  â”‚  Escrow   â”‚  â”‚      â”‚  â”‚  Escrow   â”‚  â”‚      â”‚  â”‚  Escrow   â”‚  â”‚
     â”‚  â”‚  + NFT    â”‚  â”‚      â”‚  â”‚  + NFT    â”‚  â”‚      â”‚  â”‚  + NFT    â”‚  â”‚
     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                        â”‚                        â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                          æ¯æ¡é“¾éœ€è¦å•ç‹¬éƒ¨ç½² Escrow
                          ä½†åˆçº¦ä»£ç å®Œå…¨é€šç”¨ï¼
```

### åˆçº¦è¯´æ˜

| åˆçº¦ | éƒ¨ç½²ä½ç½® | æ•°é‡ | è¯´æ˜ |
|------|----------|------|------|
| **UniversalMarket** | ZetaChain | 1 ä¸ª | æ ¸å¿ƒç¼–æ’åˆçº¦ï¼Œå¤„ç†æ‰€æœ‰é“¾çš„è·¨é“¾äº¤æ˜“ |
| **UniversalEscrow** | æ¯æ¡ NFT é“¾ | N ä¸ª | NFT æ‰˜ç®¡åˆçº¦ï¼Œ**ä»£ç  100% é€šç”¨**ï¼Œä»…æ„é€ å‚æ•°ä¸åŒ |
| **NFT åˆçº¦** | å–å®¶é€‰æ‹© | ä»»æ„ | æ”¯æŒä»»ä½• ERC-721 æ ‡å‡† NFT |

---

## å–å®¶æ¥å…¥æŒ‡å—

### æ–¹å¼ä¸€ï¼šå‰ç«¯ä¸€é”®éƒ¨ç½²ï¼ˆæ¨èï¼‰

æˆ‘ä»¬æä¾›äº† **ä¸€é”®éƒ¨ç½²** åŠŸèƒ½ï¼Œæ— éœ€ç¼–å†™ä»£ç å³å¯å®Œæˆ NFT é“¸é€ ã€æ‰˜ç®¡å’Œä¸Šæ¶ï¼š

1. è®¿é—® **http://localhost:3001/seller**ï¼ˆå–å®¶ä¸­å¿ƒï¼‰
2. è¿æ¥é’±åŒ…å¹¶å¡«å†™å•†å“ä¿¡æ¯ï¼š
   - å•†å“åç§°ã€æè¿°ã€ä»·æ ¼
   - å–å®¶ Agent åç§°å’Œç ä»·ç­–ç•¥
3. ç‚¹å‡» **"éƒ¨ç½²å¹¶ä¸Šæ¶"**ï¼Œç³»ç»Ÿè‡ªåŠ¨å®Œæˆï¼š
   - âœ… é“¸é€  NFT åˆ° Polygon
   - âœ… éƒ¨ç½²/å¤ç”¨ Escrow æ‰˜ç®¡åˆçº¦
   - âœ… å°† NFT å­˜å…¥æ‰˜ç®¡
   - âœ… å•†å“ä¸Šæ¶åˆ°å¸‚åœº

æ•´ä¸ªæµç¨‹åªéœ€ **ä¸€æ¬¡ç­¾å**ï¼Œçº¦ 1-2 åˆ†é’Ÿå®Œæˆã€‚

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨éƒ¨ç½²ï¼ˆé«˜çº§ç”¨æˆ·ï¼‰

å¦‚æœä½ æ˜¯å–å®¶ï¼Œæƒ³åœ¨ Universal AI Market ä¸Šé”€å”® NFTï¼Œéœ€è¦å®Œæˆä»¥ä¸‹å‡†å¤‡ï¼š

#### 1. éƒ¨ç½² NFT åˆçº¦ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰

```solidity
// ä»»ä½•æ ‡å‡† ERC-721 åˆçº¦éƒ½å¯ä»¥
import "@openzeppelin/contracts/token/ERC721/ERC721.sol";

contract MyNFT is ERC721 {
    // ä½ çš„ NFT é€»è¾‘
}
```

#### 2. éƒ¨ç½² UniversalEscrow æ‰˜ç®¡åˆçº¦

Escrow åˆçº¦éœ€è¦éƒ¨ç½²åœ¨ **NFT æ‰€åœ¨çš„é“¾** ä¸Šã€‚æˆ‘ä»¬æä¾›çš„ `UniversalEscrow.sol` æ˜¯ **100% é€šç”¨**çš„ï¼š

```solidity
// contracts/UniversalEscrow.sol
// åŒä¸€ä»½ä»£ç ï¼Œéƒ¨ç½²åˆ°ä»»æ„ EVM é“¾ï¼Œä»…éœ€ä¿®æ”¹æ„é€ å‚æ•°
contract UniversalEscrow {
    constructor(address _gateway) {
        // _gateway: è¯¥é“¾ä¸Šçš„ ZetaChain Gateway åœ°å€
        // ä¸åŒé“¾çš„ Gateway åœ°å€ä¸åŒï¼Œéœ€è¦æŸ¥è¯¢ ZetaChain æ–‡æ¡£
        gateway = _gateway;
    }
}
```

**éƒ¨ç½²ç¤ºä¾‹**ï¼š
```bash
# Polygon Amoy
npx hardhat run scripts/deploy/deploy_escrow.ts --network polygon_amoy

# Base Sepoliaï¼ˆåŒæ ·çš„ä»£ç ï¼Œä¸åŒçš„ gateway åœ°å€ï¼‰
npx hardhat run scripts/deploy/deploy_escrow.ts --network base_sepolia

# Ethereum Sepolia
npx hardhat run scripts/deploy/deploy_escrow.ts --network sepolia
```

**å„é“¾ Gateway åœ°å€ï¼ˆTestnetï¼‰**ï¼š
| é“¾ | Gateway åœ°å€ |
|----|-------------|
| Polygon Amoy | `0x0c487a766110c85d301d96e33579c5b317fa4995` |
| Base Sepolia | `0x0c487a766110c85d301d96e33579c5b317fa4995` |
| Ethereum Sepolia | æŸ¥è¯¢ [ZetaChain æ–‡æ¡£](https://www.zetachain.com/docs) |

#### 3. å­˜å…¥ NFT åˆ° Escrow

å–å®¶éœ€è¦å°† NFT å­˜å…¥ Escrow åˆçº¦ï¼Œè¿™æ ·ä¹°å®¶ä»˜æ¬¾åï¼Œæ™ºèƒ½åˆçº¦æ‰èƒ½è‡ªåŠ¨å°† NFT é‡Šæ”¾ç»™ä¹°å®¶ã€‚

**Demo ç¯å¢ƒä¸€é”®éƒ¨ç½²**ï¼ˆæ¨èï¼‰ï¼š

```bash
# è‡ªåŠ¨éƒ¨ç½² NFT + Escrow å¹¶å­˜å…¥ç¤ºä¾‹ NFT
npx hardhat run scripts/deploy/setup_demo.ts --network polygon_amoy
```

**æ‰‹åŠ¨æ“ä½œ**ï¼ˆè‡ªå®šä¹‰ NFTï¼‰ï¼š

```bash
# ä½¿ç”¨ Hardhat console æˆ–ç¼–å†™è„šæœ¬
npx hardhat console --network polygon_amoy

# åœ¨ console ä¸­ï¼š
> const nft = await ethers.getContractAt("IERC721", "ä½ çš„NFTåˆçº¦åœ°å€")
> const escrow = await ethers.getContractAt("UniversalEscrow", "Escrowåˆçº¦åœ°å€")
> await nft.approve(escrow.target, tokenId)
> await escrow.deposit(nft.target, tokenId)
```

#### 4. Deal ä¿¡æ¯ä¼ é€’

æ— éœ€åœ¨ UniversalMarket ä¸Šé¢„å…ˆæ³¨å†Œ Escrowã€‚æ‰€æœ‰äº¤æ˜“ä¿¡æ¯éƒ½åœ¨ Deal ç»“æ„ä¸­åŠ¨æ€ä¼ é€’ï¼š

| å­—æ®µ | è¯´æ˜ |
|------|------|
| `buyer` | ä¹°å®¶åœ°å€ï¼ˆç”¨äºæ¥æ”¶ Polygon ä¸Šçš„ NFTï¼‰ |
| `sellerBase` | å–å®¶ Base é“¾åœ°å€ï¼ˆç”¨äºæ”¶æ¬¾ï¼‰ |
| `polygonEscrow` | NFT æ‰€åœ¨çš„ Escrow åˆçº¦åœ°å€ |
| `nft` | NFT åˆçº¦åœ°å€ |
| `tokenId` | NFT Token ID |
| `price` | æˆäº¤ä»·æ ¼ï¼ˆUSDCï¼Œ6 ä½å°æ•°ï¼‰ |

è¿™ç§è®¾è®¡è®©ä»»ä½•å–å®¶éƒ½å¯ä»¥æ¥å…¥ï¼Œæ— éœ€ä¸­å¿ƒåŒ–å®¡æ‰¹ã€‚

### Escrow åˆçº¦ç‰¹æ€§

æˆ‘ä»¬çš„ Escrow åˆçº¦æ”¯æŒï¼š

```solidity
// 1. å–å®¶å­˜å…¥ NFT
function deposit(address nft, uint256 tokenId) external;

// 2. è·¨é“¾é‡Šæ”¾ï¼ˆåªæœ‰ ZetaChain Gateway å¯è°ƒç”¨ï¼‰
function release(address buyer, address nft, uint256 tokenId, bytes32 dealId) external;

// 3. ç®¡ç†å‘˜ç´§æ€¥é‡Šæ”¾ï¼ˆç”¨äºå¼‚å¸¸æ¢å¤ï¼‰
function adminRelease(address buyer, address nft, uint256 tokenId) external onlyOwner;

// 4. è½¬ç§»æ‰€æœ‰æƒ
function transferOwnership(address newOwner) external onlyOwner;
```

---

## å·²éƒ¨ç½²åˆçº¦ï¼ˆTestnetï¼‰

### ZetaChain Athens
| åˆçº¦ | åœ°å€ |
|------|------|
| UniversalMarket | `0xB7f7c2Dd2790741D5fF6b1965d37d0338cD01477` |

### Polygon Amoy
| åˆçº¦ | åœ°å€ |
|------|------|
| UniversalEscrow | `0xC51ad62e3B794f9A9Caa349dec6C5c997c133922` |

### Base Sepolia
| åˆçº¦ | åœ°å€ |
|------|------|
| Gateway | `0x0c487a766110c85d301d96e33579c5b317fa4995` |
| USDC | `0x036CbD53842c5426634e7929541eC2318f3dCF7e` |

---

## å¿«é€Ÿä½“éªŒ

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18
- pnpm

### å®‰è£…

```bash
pnpm install
```

### é…ç½®ç¯å¢ƒå˜é‡

```bash
cp .env.example .env
# ç¼–è¾‘ .env å¡«å…¥ä½ çš„ç§é’¥å’Œé…ç½®
```

### å¯åŠ¨æœåŠ¡

æœ¬é¡¹ç›®é‡‡ç”¨å¤š Agent æ¶æ„ï¼Œå®Œæ•´è¿è¡Œéœ€è¦å¯åŠ¨ä»¥ä¸‹æœåŠ¡ï¼š

| æœåŠ¡ | ç«¯å£ | ç›®å½• | å¯åŠ¨å‘½ä»¤ | è¯´æ˜ |
|------|------|------|----------|------|
| **Market Frontend** | 3001 | `apps/market` | `pnpm dev` | å¸‚åœºå‰ç«¯ UI |
| **Agent Hub** | 8080 | `apps/agent` | `pnpm dev` | Agent åè°ƒä¸­å¿ƒï¼Œå¤„ç†ç ä»·æµç¨‹ |
| **Seller Agent** | 8081 | `apps/seller-agent` | `pnpm dev` | å–å®¶ Agent æœåŠ¡ |
| **Buyer Agent** | 8083 | `apps/buyer-agent` | `pnpm dev` | ä¹°å®¶ Agentï¼ˆè‡ªæ‰˜ç®¡æœåŠ¡ï¼‰ |

```bash
# åˆ†åˆ«åœ¨ä¸åŒç»ˆç«¯å¯åŠ¨
cd apps/market && pnpm dev          # ç»ˆç«¯ 1
cd apps/agent && pnpm dev           # ç»ˆç«¯ 2
cd apps/seller-agent && pnpm dev    # ç»ˆç«¯ 3
cd apps/buyer-agent && pnpm dev     # ç»ˆç«¯ 4
```

æ‰“å¼€ http://localhost:3001 è®¿é—®å¸‚åœºå‰ç«¯

### ä½“éªŒæµç¨‹

1. **é…ç½® Buyer Agent**ï¼šåœ¨å‰ç«¯å³ä¾§è¾¹æ çš„ "Buyer Agent" æ ‡ç­¾é¡µä¸­é…ç½®ï¼š
   - é’±åŒ…ç§é’¥ï¼ˆä»…å­˜äºæµè§ˆå™¨å†…å­˜ï¼Œä»ä¸å‘é€åˆ°æœåŠ¡å™¨ï¼‰
   - é¢„ç®—
   - è´­ç‰©ç›®æ ‡ï¼ˆå¦‚ï¼š"å¸®æˆ‘ä¹°ä¸€æŠŠé‡å­ä¹‹æª"ï¼‰
   - ç ä»·ç­–ç•¥
   - æ”¯ä»˜é“¾ï¼ˆæ”¯æŒå¤šæ¡ EVM é“¾ï¼‰
2. **å‘èµ·è´­ä¹°**ï¼šç‚¹å‡» "å¯åŠ¨ Agent"ï¼ŒAI è‡ªåŠ¨æœç´¢ç¬¦åˆç›®æ ‡å’Œé¢„ç®—çš„å•†å“
3. **è‡ªåŠ¨ç ä»·**ï¼šè§‚çœ‹ Buyer Agent ä¸å¤šä¸ª Seller Agent å®æ—¶ç ä»·å¯¹è¯ï¼ˆLLM ç”Ÿæˆï¼‰
4. **ç¡®è®¤äº¤æ˜“**ï¼šç ä»·æˆåŠŸåï¼Œç¡®è®¤è·¨é“¾ç»“ç®—
5. **å®Œæˆäº¤ä»˜**ï¼šæŸ¥çœ‹è·¨é“¾äº¤æ˜“è¿›åº¦ï¼ŒNFT è‡ªåŠ¨äº¤ä»˜åˆ°ä½ çš„é’±åŒ…

### æ¨¡å¼è¯´æ˜

- **æ¨¡æ‹Ÿæ¨¡å¼**ï¼šæ— éœ€çœŸå®èµ„é‡‘ï¼Œå¿«é€Ÿå±•ç¤ºå®Œæ•´æµç¨‹ï¼ˆé»˜è®¤ï¼‰
- **Testnet æ¨¡å¼**ï¼šä½¿ç”¨çœŸå®æµ‹è¯•ç½‘è¿›è¡Œè·¨é“¾äº¤æ˜“ï¼Œéœ€è¦åœ¨ `.env` ä¸­é…ç½®ç§é’¥å’Œæµ‹è¯•å¸

---

## é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ contracts/
â”‚   â”œâ”€â”€ UniversalEscrow.sol      # é€šç”¨ NFT æ‰˜ç®¡åˆçº¦ï¼ˆå¯éƒ¨ç½²åˆ°ä»»æ„ EVM é“¾ï¼‰
â”‚   â”œâ”€â”€ zevm/
â”‚   â”‚   â””â”€â”€ UniversalMarket.sol  # ZetaChain æ ¸å¿ƒç¼–æ’åˆçº¦ï¼ˆåªéœ€éƒ¨ç½² 1 ä¸ªï¼‰
â”‚   â””â”€â”€ polygon/
â”‚       â””â”€â”€ MockWeaponNFT.sol    # ç¤ºä¾‹ NFT åˆçº¦ï¼ˆä»…ç”¨äºæ¼”ç¤ºï¼‰
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ market/                  # å¸‚åœºå‰ç«¯ (Next.js)
â”‚   â”œâ”€â”€ agent/                   # Agent Hub (åè°ƒä¸­å¿ƒ)
â”‚   â”œâ”€â”€ buyer-agent/             # å¤–éƒ¨ Buyer Agent æœåŠ¡
â”‚   â””â”€â”€ seller-agent/            # Seller Agent æœåŠ¡
â””â”€â”€ scripts/
    â””â”€â”€ utils/                   # å·¥å…·è„šæœ¬
        â”œâ”€â”€ check_balances.ts    # æ£€æŸ¥ä½™é¢
        â”œâ”€â”€ reset_demo.ts        # é‡ç½®æ¼”ç¤ºçŠ¶æ€
        â””â”€â”€ swap_zeta_to_pol.ts  # Swap å·¥å…·
```

---


## ç›¸å…³é“¾æ¥

- [ZetaChain æ–‡æ¡£](https://www.zetachain.com/docs)
- [ZetaChain Explorer](https://explorer.zetachain.com)
- [Polygon Amoy Explorer](https://amoy.polygonscan.com)
- [Base Sepolia Explorer](https://sepolia.basescan.org)

---

## License
This project is licensed under the GNU Affero General Public License v3.0 - see the LICENSE file for details.
This license applies to all versions of this software.
